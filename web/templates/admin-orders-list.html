{{- if .Orders }}
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
    <div class="border border-gray-200 rounded-lg p-4 shadow-sm">
      <div class="text-sm text-gray-500">Total geral</div>
      <div class="text-2xl font-semibold text-gray-800">R$ {{ printf "%.2f" .Totals.Overall }}</div>
    </div>
    <div class="border border-gray-200 rounded-lg p-4 shadow-sm">
      <div class="text-sm text-gray-500">Boleto</div>
      <div class="flex items-center gap-2">
        <div class="text-2xl font-semibold text-gray-800">R$ {{ printf "%.2f" .Totals.Boleto }}</div>
        <span class="px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700">{{ .Totals.BoletoCount }}</span>
      </div>
    </div>
    <div class="border border-gray-200 rounded-lg p-4 shadow-sm">
      <div class="text-sm text-gray-500">Cartão de crédito</div>
      <div class="flex items-center gap-2">
        <div class="text-2xl font-semibold text-gray-800">R$ {{ printf "%.2f" .Totals.CreditCard }}</div>
        <span class="px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700">{{ .Totals.CreditCardCount }}</span>
      </div>
    </div>
    <div class="border border-gray-200 rounded-lg p-4 shadow-sm">
      <div class="text-sm text-gray-500">PIX</div>
      <div class="flex items-center gap-2">
        <div class="text-2xl font-semibold text-gray-800">R$ {{ printf "%.2f" .Totals.Pix }}</div>
        <span class="px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700">{{ .Totals.PixCount }}</span>
      </div>
    </div>
  </div>

  {{- range .Orders }}
    <div class="border border-gray-200 rounded-lg p-4 shadow-sm">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div>
          <div class="text-sm text-gray-500">Pedido {{ .OrderNumber }}</div>
          <div class="text-lg font-semibold text-gray-800">{{ .FirstName }} {{ .LastName }}</div>
          <div class="text-sm text-gray-600">{{ .Email }} • {{ .Phone }}</div>
          <div class="text-sm text-gray-600">{{ .CreatedAt.Format "02/01/2006 15:04" }}</div>
        </div>
        <div class="flex flex-wrap gap-3">
          <span class="px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-700">{{ .Status }}</span>
          <span class="px-3 py-1 text-sm rounded-full bg-green-100 text-green-700">{{ .PaymentStatus }}</span>
          <span class="px-3 py-1 text-sm rounded-full bg-gray-100 text-gray-700">{{ .PaymentMethod }}</span>
          <span class="px-3 py-1 text-sm rounded-full bg-yellow-100 text-yellow-700">R$ {{ printf "%.2f" .TotalAmount }}</span>
        </div>
        <div>
          <button
            class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
            hx-get="/api/admin/orders/{{ .ID }}"
            hx-target="#order-modal-body"
            hx-trigger="click"
            hx-on::after-swap="window.openOrderModal()"
          >
            Ver Detalhes
          </button>
        </div>
      </div>
    </div>
  {{- end }}
{{- else }}
  <div class="text-center py-10 text-gray-500">
    Nenhum pedido encontrado com os filtros selecionados.
  </div>
{{- end }}
