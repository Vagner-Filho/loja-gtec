{{range .}}
<div class="bg-white rounded-lg shadow-md overflow-hidden product-card" data-name="{{.Name}}" data-price="{{.Price}}">
  <img src="{{.Image}}" alt="{{.Name}}" class="w-full h-64 object-contain">
  <div class="p-4">
    <h3 class="text-xl font-bold mb-2">{{.Name}}</h3>
    <p class="text-gray-600 mb-4">R$ {{printf "%.2f" .Price}}</p>
    <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 add-to-cart">Adicionar ao Carrinho</button>
  </div>
  <script type="module">
  import { addToCart } from "/static/js/cart.js"

  document.querySelectorAll('[data-name="{{.Name}}"] .add-to-cart').forEach(button => {
    button.addEventListener('click', (e) => {
      const productCard = e.target.closest('.product-card');
      const productName = productCard.dataset.name;
      const productPrice = parseFloat(productCard.dataset.price);
      addToCart(productName, productPrice);
    });
  });
  </script>
</div>
{{end}}
