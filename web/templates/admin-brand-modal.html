<dialog id="brand-modal" open class="fixed inset-0 m-0 p-0 bg-transparent backdrop:bg-black/50" hx-on="closeBrandModal: this.close(); this.remove()">
  <div class="bg-white rounded-lg shadow-2xl max-w-md w-full mx-auto my-20 p-6">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-gray-800">Adicionar Marca</h3>
      <button type="button" onclick="document.getElementById('brand-modal').close(); document.getElementById('brand-modal').remove();" class="text-gray-500 hover:text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    {{if .Error}}
      <div class="mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded px-3 py-2">{{.Error}}</div>
    {{end}}

    <form id="add-brand-form" class="grid grid-cols-1 gap-4" hx-post="/api/admin/brands" hx-target="#brand-modal-container" hx-swap="innerHTML">
      <div>
        <label for="brand-name" class="block text-sm font-medium text-gray-700 mb-2">Nome da Marca</label>
        <input
          type="text"
          id="brand-name"
          name="name"
          value="{{.Name}}"
          required
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
          placeholder="e.g., IBBL"
        >
      </div>

      <div class="flex items-center justify-between gap-4">
        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold shadow-md hover:shadow-lg">
          Salvar Marca
        </button>
        <button type="button" onclick="document.getElementById('brand-modal').close(); document.getElementById('brand-modal').remove();" class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition-colors font-semibold">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</dialog>
